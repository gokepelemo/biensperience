@use '../../styles/scss/abstracts' as *;

/**
 * Action Buttons Container
 * Unified button container using standardized design tokens
 * Heights: 36px (sm), 44px (md), 52px (lg)
 */

.actionButtons {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-3);
  align-items: center;
  padding: var(--space-3) 0;

  &.compact {
    gap: var(--space-1);
    padding: 0;

    :global(.action-button) {
      min-width: 2rem;
      padding: var(--btn-padding-y-sm) var(--btn-padding-x-sm);
    }
  }

  @include breakpoint-max(md) {
    justify-content: center;
    width: auto; /* Don't force full width - let buttons size naturally */
    margin: 0 auto; /* Center the container */
  }

  /* Navbar integration - fade in animation */
  &.fadeIn {
    animation: fadeInSlide 0.3s ease-out;
  }
}

/* Navbar-specific styles */
:global(.navbar) {
  .actionButtons {
    margin-left: auto;

    @include breakpoint-max(lg) {
      /* Mobile: Don't stretch to full width - keep buttons compact and centered */
      width: auto;
      margin: var(--space-2) auto;
      justify-content: center;

      /* Prevent buttons from growing */
      .actionButton {
        flex: 0 0 auto;
        width: auto;
      }
    }
  }
}

/* Action Button Base Styles */
.actionButton {
  /* Layout */
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--btn-icon-gap);
  white-space: nowrap;

  /* Sizing - default to medium (44px) */
  min-height: var(--btn-height-md);
  padding: var(--btn-padding-y-md) var(--btn-padding-x-md);

  /* Typography */
  font-size: var(--btn-font-size-md);
  font-weight: var(--btn-font-weight);
  line-height: 1.2;

  /* Appearance */
  border-radius: var(--btn-radius-default);
  box-shadow: var(--btn-shadow-base);

  /* Animation */
  transition: var(--btn-transition);
  
  /* Heartbeat animation on favorite button hover */
  &:global(.btn-warning),
  &:global(.btn-outline-warning) {
    &:hover:not(:disabled) svg {
      animation: heartbeat 1s ease-in-out;
    }
  }
  
  /* Gentle bounce on CTA buttons */
  &:global(.btn-success),
  &:global(.btn-primary) {
    &:hover:not(:disabled) {
      animation: gentleBounce 1s ease-in-out;
    }
  }

  /* Icon styling */
  :global(.button-icon) {
    font-size: 1.1em;
    line-height: 1;
  }

  /* Small size variant */
  &:global(.btn-sm) {
    min-height: var(--btn-height-sm);
    padding: var(--btn-padding-y-sm) var(--btn-padding-x-sm);
    font-size: var(--btn-font-size-sm);

    :global(.button-icon) {
      font-size: 1em;
    }
  }

  /* Large size variant */
  &:global(.btn-lg) {
    min-height: var(--btn-height-lg);
    padding: var(--btn-padding-y-lg) var(--btn-padding-x-lg);
    font-size: var(--btn-font-size-lg);
  }

  /* Hover state */
  &:hover:not(:disabled) {
    transform: translateY(var(--btn-hover-lift));
    box-shadow: var(--btn-shadow-hover);
  }

  /* Active state */
  &:active:not(:disabled) {
    transform: translateY(0);
    box-shadow: var(--btn-shadow-active);
  }

  /* Disabled state */
  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
    box-shadow: none;
  }

  /* Focus state for accessibility */
  &:focus-visible {
    @include focus-ring;
  }

  /* Mobile responsiveness - keep buttons compact, don't stretch */
  @include breakpoint-max(md) {
    flex: 0 0 auto; /* Don't grow or shrink */
    min-width: fit-content;
    width: auto;
  }
}

/* Keyframe animations */
@keyframes fadeInSlide {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
