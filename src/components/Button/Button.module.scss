/**
 * Button Component Styles (SCSS Module)
 * Unified Button Design System
 *
 * All buttons use standardized design tokens for consistent:
 * - Heights (28px xs, 32px sm, 40px md, 48px lg, 56px xl)
 * - Padding (based on size)
 * - Font sizes (12px xs, 14px sm, 16px md, 18px lg, 20px xl)
 * - Font weight (600 semibold)
 * - Border radius (8px default, pill optional)
 */

@use '../../styles/scss/abstracts' as *;

/* ============================================
   BASE BUTTON STYLES
   ============================================ */
.btnCustom {
  /* Layout */
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--btn-icon-gap);
  position: relative;
  overflow: hidden;

  /* Sizing - default to medium */
  min-height: var(--btn-height-md);
  padding: var(--btn-padding-y-md) var(--btn-padding-x-md);

  /* Typography */
  font-size: var(--btn-font-size-md);
  font-weight: var(--btn-font-weight);
  line-height: 1.2;
  text-decoration: none;
  white-space: nowrap;

  /* Appearance */
  border: none;
  border-radius: var(--btn-radius-default);
  cursor: pointer;

  /* Animation */
  transition: var(--btn-transition);

  /* Reset for links rendered as buttons */
  &:visited {
    color: inherit;
  }
}

/* ============================================
   VARIANT: GRADIENT (Primary Action)
   ============================================ */

// Force white text for maximum legibility, override any variable
.btnGradient {
  background: var(--btn-gradient-bg);
  color: #fff !important;
  box-shadow: var(--btn-shadow-base);

  &:hover:not(:disabled) {
    filter: brightness(var(--btn-gradient-hover-brightness));
    transform: translateY(var(--btn-hover-lift));
    box-shadow: var(--btn-shadow-hover);
  }

  &:active:not(:disabled) {
    filter: brightness(var(--btn-gradient-active-brightness));
    transform: translateY(0);
    box-shadow: var(--btn-shadow-active);
  }
}

/* ============================================
   VARIANT: OUTLINE (Secondary Action)
   ============================================ */
.btnOutline {
  background: var(--btn-secondary-bg);
  color: var(--btn-secondary-color);
  border: var(--btn-secondary-border);

  &:hover:not(:disabled) {
    background: var(--btn-secondary-hover-bg);
    color: var(--btn-secondary-hover-color);
    border: var(--btn-secondary-hover-border);
    transform: translateY(var(--btn-hover-lift));
    box-shadow: var(--btn-shadow-base);
  }

  &:active:not(:disabled) {
    transform: translateY(0);
  }
}

/* ============================================
   VARIANT: LIGHT (Soft/Tonal)
   Light purple background with purple text
   ============================================ */
.btnLight {
  background: var(--btn-light-bg, rgba(102, 126, 234, 0.1));
  color: var(--btn-light-color, var(--color-primary));
  border: var(--btn-light-border, 1px solid transparent);

  &:hover:not(:disabled) {
    background: var(--btn-light-hover-bg, rgba(102, 126, 234, 0.2));
    color: var(--btn-light-hover-color, var(--color-primary-dark));
    transform: translateY(var(--btn-hover-lift));
  }

  &:active:not(:disabled) {
    background: var(--btn-light-active-bg, rgba(102, 126, 234, 0.25));
    transform: translateY(0);
  }
}

/* ============================================
   VARIANT: TERTIARY (Ghost Button)
   ============================================ */
.btnTertiary {
  background: var(--btn-tertiary-bg);
  color: var(--btn-tertiary-color);
  border: var(--btn-tertiary-border);

  &:hover:not(:disabled) {
    background: var(--btn-tertiary-hover-bg);
    color: var(--btn-tertiary-hover-color);
  }

  &:active:not(:disabled) {
    background: var(--color-bg-tertiary);
  }
}

/* ============================================
   VARIANT: LINK (Text-only)
   ============================================ */
.btnLink {
  background: transparent;
  color: var(--btn-link-color);
  border: none;
  padding: var(--btn-link-padding-y) var(--btn-link-padding-x);
  min-height: auto;
  height: auto;
  box-shadow: none;
  border-radius: var(--radius-sm);

  &:hover:not(:disabled) {
    color: var(--btn-link-hover-color);
    text-decoration: underline;
    transform: none;
    box-shadow: none;
  }

  &:active:not(:disabled) {
    transform: none;
  }
}

/* ============================================
   VARIANT: DANGER
   ============================================ */
.btnDanger {
  background: var(--btn-danger-bg);
  color: var(--btn-danger-color);
  box-shadow: var(--btn-shadow-base);

  &:hover:not(:disabled) {
    background: var(--btn-danger-hover-bg);
    transform: translateY(var(--btn-hover-lift));
    box-shadow: var(--btn-shadow-hover);
  }

  &:active:not(:disabled) {
    transform: translateY(0);
    box-shadow: var(--btn-shadow-active);
  }
}

/* ============================================
   VARIANT: SUCCESS
   ============================================ */
.btnSuccess {
  background: var(--btn-success-bg);
  color: var(--btn-success-color);
  box-shadow: var(--btn-shadow-base);

  &:hover:not(:disabled) {
    background: var(--btn-success-hover-bg);
    transform: translateY(var(--btn-hover-lift));
    box-shadow: var(--btn-shadow-hover);
  }

  &:active:not(:disabled) {
    transform: translateY(0);
    box-shadow: var(--btn-shadow-active);
  }
}

/* ============================================
   SIZE MODIFIERS
   ============================================ */
.btnXs {
  min-height: var(--btn-height-xs, 28px);
  padding: var(--btn-padding-y-xs, 2px) var(--btn-padding-x-xs, 8px);
  font-size: var(--btn-font-size-xs, 12px);
  gap: var(--space-1);
}

.btnSm {
  min-height: var(--btn-height-sm);
  padding: var(--btn-padding-y-sm) var(--btn-padding-x-sm);
  font-size: var(--btn-font-size-sm);
}

.btnLg {
  min-height: var(--btn-height-lg);
  padding: var(--btn-padding-y-lg) var(--btn-padding-x-lg);
  font-size: var(--btn-font-size-lg);
}

.btnXl {
  min-height: var(--btn-height-xl, 56px);
  padding: var(--btn-padding-y-xl, 14px) var(--btn-padding-x-xl, 28px);
  font-size: var(--btn-font-size-xl, 20px);
  gap: var(--space-3);
}

/* ============================================
   SHAPE MODIFIERS
   ============================================ */
.btnRounded {
  border-radius: var(--btn-radius-pill);
}

.btnSquare {
  border-radius: var(--radius-sm);
}

/* ============================================
   EFFECT MODIFIERS
   ============================================ */
.btnShadow {
  box-shadow: var(--btn-shadow-hover);

  &:hover:not(:disabled) {
    box-shadow: var(--shadow-lg);
  }
}

/* ============================================
   STATES
   ============================================ */
.btnCustom:disabled {
  opacity: 0.6;
  cursor: not-allowed;
  transform: none;
  box-shadow: none;
  filter: none;
}

.btnCustom:focus-visible {
  @include focus-ring;
}

/* ============================================
   DARK MODE ADJUSTMENTS
   ============================================ */
@media (prefers-color-scheme: dark) {
  .btnOutline {
    /* Lighter primary for better contrast on dark backgrounds (WCAG AA: 5.2:1) */
    --btn-secondary-color: #9f93f7;
    --btn-secondary-border: 2px solid #9f93f7;
    --btn-secondary-hover-bg: #9f93f7;
    --btn-secondary-hover-color: #000000;
    --btn-secondary-hover-border: 2px solid #9f93f7;
  }

  .btnLink {
    --btn-link-color: #9f93f7;
    --btn-link-hover-color: #b8aef9;
  }
}

/* Manual dark mode toggle */
[data-theme="dark"] {
  .btnOutline {
    --btn-secondary-color: #9f93f7;
    --btn-secondary-border: 2px solid #9f93f7;
    --btn-secondary-hover-bg: #9f93f7;
    --btn-secondary-hover-color: #000000;
    --btn-secondary-hover-border: 2px solid #9f93f7;
  }

  .btnLink {
    --btn-link-color: #9f93f7;
    --btn-link-hover-color: #b8aef9;
  }

  .btnLight {
    --btn-light-bg: rgba(159, 147, 247, 0.15);
    --btn-light-color: #9f93f7;
    --btn-light-hover-bg: rgba(159, 147, 247, 0.25);
    --btn-light-hover-color: #b8aef9;
  }
}

/* ============================================
   ICON STYLES
   ============================================ */
.btnIcon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}
