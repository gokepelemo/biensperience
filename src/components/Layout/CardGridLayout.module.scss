@use '../../styles/scss/abstracts' as *;

/**
 * CardGridLayout Styles
 * Responsive grid for card-based content browsing.
 */

.cardGrid {
  display: grid;
  width: 100%;
}

// Gap variants
.gapSm {
  gap: $layout-gap-sm;
}

.gapMd {
  gap: $layout-gap-md;
}

.gapLg {
  gap: $layout-gap-lg;
}

.gapXl {
  gap: $layout-gap-xl;
}

// Column variants - responsive
.columns1 {
  grid-template-columns: 1fr;
}

.columns2 {
  grid-template-columns: repeat(2, 1fr);

  @include breakpoint-max(md) {
    grid-template-columns: 1fr;
  }
}

.columns3 {
  grid-template-columns: repeat(3, 1fr);

  @include breakpoint-max(lg) {
    grid-template-columns: repeat(2, 1fr);
  }

  @include breakpoint-max(md) {
    grid-template-columns: 1fr;
  }
}

.columns4 {
  grid-template-columns: repeat(4, 1fr);

  @include breakpoint-max(xl) {
    grid-template-columns: repeat(3, 1fr);
  }

  @include breakpoint-max(lg) {
    grid-template-columns: repeat(2, 1fr);
  }

  @include breakpoint-max(md) {
    grid-template-columns: 1fr;
  }
}

.columns5 {
  grid-template-columns: repeat(5, 1fr);

  @include breakpoint-max(xl) {
    grid-template-columns: repeat(4, 1fr);
  }

  @include breakpoint-max(lg) {
    grid-template-columns: repeat(3, 1fr);
  }

  @include breakpoint-max(md) {
    grid-template-columns: repeat(2, 1fr);
  }

  @include breakpoint-max(sm) {
    grid-template-columns: 1fr;
  }
}

.columns6 {
  grid-template-columns: repeat(6, 1fr);

  @include breakpoint-max(xl) {
    grid-template-columns: repeat(4, 1fr);
  }

  @include breakpoint-max(lg) {
    grid-template-columns: repeat(3, 1fr);
  }

  @include breakpoint-max(md) {
    grid-template-columns: repeat(2, 1fr);
  }

  @include breakpoint-max(sm) {
    grid-template-columns: 1fr;
  }
}

// Masonry layout (CSS columns)
.masonry {
  display: block;
  column-gap: var(--space-4);

  &.gapSm {
    column-gap: $layout-gap-sm;
  }

  &.gapMd {
    column-gap: $layout-gap-md;
  }

  &.gapLg {
    column-gap: $layout-gap-lg;
  }

  &.gapXl {
    column-gap: $layout-gap-xl;
  }

  &.columns1 {
    column-count: 1;
  }

  &.columns2 {
    column-count: 2;

    @include breakpoint-max(md) {
      column-count: 1;
    }
  }

  &.columns3 {
    column-count: 3;

    @include breakpoint-max(lg) {
      column-count: 2;
    }

    @include breakpoint-max(md) {
      column-count: 1;
    }
  }

  &.columns4 {
    column-count: 4;

    @include breakpoint-max(xl) {
      column-count: 3;
    }

    @include breakpoint-max(lg) {
      column-count: 2;
    }

    @include breakpoint-max(md) {
      column-count: 1;
    }
  }

  > * {
    break-inside: avoid;
    margin-bottom: $layout-gap-md;
  }
}

// Skeleton Card Styles
.skeletonCard {
  background: var(--color-bg-secondary);
  border-radius: $radius-lg;
  overflow: hidden;
  animation: shimmer 1.5s infinite;
}

.skeletonImage {
  aspect-ratio: 16 / 10;
  background: linear-gradient(
    90deg,
    var(--color-bg-tertiary) 25%,
    var(--color-bg-secondary) 50%,
    var(--color-bg-tertiary) 75%
  );
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
}

.skeletonContent {
  padding: $layout-gap-md;
}

.skeletonTitle {
  height: 20px;
  width: 80%;
  background: var(--color-bg-tertiary);
  border-radius: $radius-sm;
  margin-bottom: $space-3;
}

.skeletonText {
  height: 14px;
  width: 100%;
  background: var(--color-bg-tertiary);
  border-radius: $radius-sm;
  margin-bottom: $space-2;

  &:last-child {
    margin-bottom: 0;
  }
}

@keyframes shimmer {
  0% {
    background-position: 200% 0;
  }
  100% {
    background-position: -200% 0;
  }
}

// Empty State
.emptyState {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: $layout-gap-xl;
  text-align: center;
  min-height: 300px;
  background: var(--color-bg-secondary);
  border-radius: $radius-lg;
  border: 2px dashed var(--color-border-medium);
}

.emptyMessage {
  font-size: $font-size-lg;
  color: var(--color-text-tertiary);
  margin: 0 0 $layout-gap-md;
}

.emptyAction {
  margin-top: $space-4;
}
