/**
 * Accordion Component Styles
 * Migrated from Accordion.css to Accordion.scss
 * Uses SASS variables and mixins for better maintainability
 */

@use '../../styles/scss/abstracts' as *;

.ds-accordion {
  --accordion-bg: var(--color-bg-secondary);
  --accordion-border: var(--color-border-light);
  --accordion-radius: #{$radius-md};

  .accordion-item {
    background: var(--accordion-bg);
    border-radius: var(--accordion-radius);
    margin-bottom: $space-3;
  }

  .accordion-button {
    background: transparent;
    color: var(--color-text-primary);
    font-weight: $font-weight-semibold;
    padding: $space-4;
    display: flex !important;
    align-items: center !important;
    gap: $space-3 !important;

    &:not(.collapsed) {
      background: linear-gradient(90deg, var(--color-primary) 0%, var(--color-primary-600) 100%);
      color: white;
    }

    // Ensure caret/arrow is visible and positioned correctly
    &::after {
      flex-shrink: 0 !important;
      width: 1.25rem !important;
      height: 1.25rem !important;
      margin-left: $space-2 !important;
      order: 999 !important; // Force caret to end of flex container
      content: "" !important;
      background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23212529'%3e%3cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e") !important;
      background-repeat: no-repeat !important;
      background-size: 1.25rem !important;
      background-position: center !important;
      transition: transform 0.2s ease-in-out !important;
    }

    // Rotate caret when expanded and change to white
    &:not(.collapsed)::after {
      background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='white'%3e%3cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e") !important;
      transform: rotate(-180deg) !important;
    }

    // Style nested headings and links
    h1, h2, h3, h4, h5, h6 {
      margin: 0;
      font-size: inherit;
      font-weight: inherit;
      color: inherit;
    }

    a {
      color: inherit;
      text-decoration: none;

      &:hover {
        color: inherit;
        opacity: 0.9;
      }
    }
  }

  .accordion-body {
    background: var(--color-bg-primary);
    color: var(--color-text-primary);
    border-top: 1px dashed var(--accordion-border);
  }
}
